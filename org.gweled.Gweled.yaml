---
id: org.gweled.Gweled
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
command: gweled
rename-appdata-file: gweled.appdata.xml
rename-desktop-file: gweled.desktop
rename-icon: gweled
copy-icon: true
finish-args:
  - --share=ipc
  - --socket=x11
  - --socket=pulseaudio
  - --filesystem=xdg-config/gweled:create
modules:
  - name: gweled
    sources:
      - type: archive
        url: http://launchpad.net/gweled/trunk/0.9.1/+download/gweled-0.9.1.tar.gz
        md5: 746ac14523c968e78140c2f0501fd7cf
      - type: patch
        path: 0001-Endless-and-timed-modes-don-t-ends-if-no-moves-avail.patch
      - type: patch
        path: 0051-Fixing-white-gem-blinking-using-opacity-instead-of-s.patch
      - type: patch
        path: 0054-Fix-a-GError-uninitialized-and-workaround-for-librsv.patch
      - type: patch
        path: 1001-xdg-config.patch
      - type: patch
        path: 1002-SDL2_mixer.patch
      - type: file
        path: gweled.appdata.xml
    rm-configure: true
    config-opts:
      - --disable-setgid
    post-install:
      - install -D -m0644 gweled.appdata.xml $FLATPAK_DEST/share/metainfo/gweled.appdata.xml
    modules:
      - shared-modules/gtk2/gtk2.json
...
